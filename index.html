<!DOCTYPE html>

<html lang="ja">

<head>

  <meta charset="UTF-8">

  <title>Barcode Reader</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body>

 

<h2>バーコード読み取り</h2>

 

<div id="scanner" style="width:100%; height:300px; background:black;"></div>

 

<p>抽出された UUUUU：</p>

<h1 id="result">---</h1>

 

<!-- Quagga CDN（ローカルに置かない） -->

<script src=https://cdn.jsdelivr.net/npm/quagga@0.12.1/dist/quagga.min.js></script>

 

<script>

document.addEventListener("DOMContentLoaded", function () {

 

  if (typeof Quagga === "undefined") {

    alert("Quagga が読み込まれていません");

    return;

  }

 

  Quagga.init({

    inputStream: {

      type: "LiveStream",

      target: document.querySelector("#scanner"),

      constraints: {

        facingMode: "environment"

      }

    },

    decoder: {

      readers: ["codabar_reader"]

    }

  }, function(err) {

    if (err) {

      alert("カメラ初期化エラー: " + err);

      return;

    }

    Quagga.start();

  });

 

Quagga.onDetected(function(result) {

  const code = result.codeResult.code;

  document.getElementById("result").textContent = code;

});

 

});

</script>

 

</body>

</html>
